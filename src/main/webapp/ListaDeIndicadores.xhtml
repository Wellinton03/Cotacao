<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta charset="UTF-8" />
	<title>Cadastro De Indicadores</title>

	<f:metadata>
		<f:viewAction action="#{cotacoesControllerBean.todosIndicadores()}" />
	</f:metadata>
	<h:outputStylesheet library="Listas" name="estilo.css" />
</h:head>

<body>

	<header>
		<h:graphicImage library="Listas" name="logo.png" />
	</header>
		<h:form id="conteudo">

			<p:megaMenu orientation="horizontal" autoDisplay="false"
				styleClass="Menu">
				<f:facet name="start">
					<p:graphicImage name="images/primefaces-logo.svg"
						library="showcase" width="150" />
				</f:facet>
				<p:menuitem value="Quit" icon="pi pi-home"
					outcome="/CadastroDeIndicadores" />
				<p:divider layout="vertical" />
				<p:submenu label="Tabelas" icon="pi pi-database">
					<p:column>
						<p:submenu label="Indicadores">
							<p:menuitem value="Lista de Indicadores"
								outcome="/ListaDeIndicadores" />
						</p:submenu>
						<p:submenu label="Cotações">
							<p:menuitem value="Lista de Cotações" outcome="/ListaDeCotacoes" />
						</p:submenu>
					</p:column>
				</p:submenu>
				<p:submenu label="Events" icon="pi pi-fw pi-calendar">
					<p:column>
						<p:submenu label="Event 1">
							<p:menuitem value="Event 1.1" />
							<p:menuitem value="Event 1.2" />
						</p:submenu>

					</p:column>
				</p:submenu>

				<p:submenu label="Settings" icon="pi pi-fw pi-cog">
					<p:column>
						<p:submenu label="Setting 1">
							<p:menuitem value="Setting 1.1" />
							<p:menuitem value="Setting 1.2" />
						</p:submenu>
					</p:column>
				</p:submenu>
			</p:megaMenu>
			<p:growl id="messages" showDetail="true" />

			<p:toolbar>
				<p:toolbarGroup>
					<p:commandButton type="button" title="Cadastro" value="Adicionar"
						icon="pi pi-plus" styleClass="buttonAdd"
						onclick="PF('indicadorDialogWidgetVar').show()" />
				</p:toolbarGroup>

				<p:toolbarGroup align="right">
					<h:panelGroup styleClass="search-bar">
						<i class="pi pi-fw pi-search"></i>
						<p:inputText placeholder="Faça sua busca..." />
					</h:panelGroup>
				</p:toolbarGroup>
			</p:toolbar>
			<p:dataTable value="#{indicadoresControllerBean.listaIndicadores}"
				id="idIndicadores" var="indicadores" paginator="true" rows="5"
				paginatorPosition="bottom" sortBy="#{indicadores.id}">
				<p:column headerText="id">
					<h:outputText value="${indicadores.id}" />
				</p:column>
				<p:column headerText="Descrição" sortBy="#{indicadores.description}">
					<h:outputText value="#{indicadores.description}" />
				</p:column>
				
				<p:column exportable="false">
					<p:commandButton icon="pi pi-pencil"
						styleClass="edit-button rounded-button ui-button-success"
						process="@form"
						actionListener="#{indicadoresControllerBean.salvar()}">
						<f:setPropertyActionListener value="#{indicadores}"
							target="#{indicadoresControllerBean.selectedIndicador}" />
					</p:commandButton>

					<p:commandButton class="ui-button-warning rounded-button"
						icon="pi pi-trash"
						actionListener="#{indicadoresControllerBean.excluir()}">
						<f:setPropertyActionListener value="#{indicadores}"
							target="#{indicadoresControllerBean.selectedIndicador}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:dialog header="Novo Indicador"
				widgetVar="indicadorDialogWidgetVar" modal="true" resizable="false"
				closeOnEscape="true">
				<h:panelGrid columns="2" styleClass="input-modal">
					<p:outputLabel value="Nome: " for="description" />
					<p:inputText id="description"
						value="#{indicadoresControllerBean.selectedIndicador.description}"
						size="80" maxLength="120" />
					<div>
						<p:commandButton value="Salvar"
							action="#{indicadoresControllerBean.salvar()}"
							styleClass="button-modal" update=":conteudo:idIndicadores"
							onclick="PF('indicadorDialogWidgetVar').show()">
						</p:commandButton>
					</div>
				</h:panelGrid>
			</p:dialog>
		</h:form>

	<footer> Lista De Indicadores </footer>
</body>

</html>